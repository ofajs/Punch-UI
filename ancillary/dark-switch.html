<template component>
  <div>
    <label>
      isDark
      <input type="checkbox" sync:checked="isDark" />
    </label>
  </div>
  <script>
    import "../packages/commons/init.js";

    export default {
      data: {
        isDark: localStorage.__isDark === "1",
      },

      watch: {
        isDark(bool) {
          const rootProvider = $(`o-root-provider[name='pui']`);
          if (bool) {
            this.classList.add("dark-mode");
            $("html").classList.add("theme-dark-mode");
            rootProvider.theme = "dark";
          } else {
            this.classList.remove("dark-mode");
            $("html").classList.remove("theme-dark-mode");
            rootProvider.theme = "light";
          }
          localStorage.__isDark = bool ? "1" : "";
        },
      },
    };
  </script>
</template>
