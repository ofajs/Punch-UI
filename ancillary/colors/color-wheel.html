<template component>
  <!-- more: https://www.figma.com/community/plugin/1034969338659738588/material-theme-builder -->
  <style>
    .color-container {
      display: flex;
    }
    .color-block {
      text-align: center;
      font-size: 16px;
      width: 50px;
      height: 100px;
      margin: 10px 1px;
    }
  </style>
  <div>color-wheel</div>

  <x-fill :value="colors">
    <div>
      <b>{{$data.name}}</b>
      <br />
      <div class="color-container">
        <x-fill name="color-block" :value="$data.arr"> </x-fill>
      </div>
    </div>
  </x-fill>

  <template name="color-block">
    <div
      class="color-block"
      :css.background-color="$data.bgcolor"
      :css.color="$data.tone <= 50 ? 'white' : ''"
    >
      {{$data.tone}}
    </div>
  </template>

  <script>
    import { Hct, getColors } from "../../packages/commons/mcu-ts/index.js";

    const primarys = getColors("#6750a4");
    const errors = getColors("#fb4747");
    const success = getColors("#2e7d32");

    export default {
      tag: "color-wheel",
      data: {
        colors: [],
      },
      ready() {
        const points = [100, 98, 95, 90, 80, 70, 60, 50, 40, 30, 20, 10, 0];

        const colors = [];
        Object.entries({
          primarys,
          errors,
          success,
        }).forEach(([name, values]) => {
          const obj = {
            name,
            arr: values.map((color, i) => {
              return {
                bgcolor: color,
                tone: points[i],
              };
            }),
          };

          colors.push(obj);
        });

        this.colors = colors;
      },
    };
  </script>
</template>
