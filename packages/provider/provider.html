<template component>
  <link rel="stylesheet" href="../css/theme.css" />
  <style>
    :host {
      display: contents;
    }
    o-provider {
      color: var(--md-sys-color-on-surface);
      background-color: var(--md-sys-color-surface);
    }
  </style>
  <o-provider
    name="pui"
    sync:theme="theme"
    class:theme-dark-mode="isDarkMode"
    class:theme-light-mode="!isDarkMode"
  >
    <slot></slot>
  </o-provider>
  <script>
    export default {
      tag: "p-provider",
      attrs: {
        theme: "auto",
      },
      proto: {
        get isDarkMode() {
          return (
            this.theme === "dark" ||
            (this.theme === "auto" &&
              matchMedia("(prefers-color-scheme: dark)").matches)
          );
        },
      },
    };
  </script>
</template>
