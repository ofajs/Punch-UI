<template component>
  <l-m src="../wave/p-wave.html"></l-m>
  <style>
    :host {
      display: inline-block;
      font-size: 20px;
    }
    .container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 36px;
      height: 36px;
      border-radius: 30px;
      cursor: pointer;
      color: var(--main-color);
      transition: background-color ease 0.3s;
    }
    .container:hover {
      background-color: rgba(133, 133, 133, 0.1);
    }

    :host([size="small"]) {
      font-size: 16px;
    }
    :host([size="large"]) {
      font-size: 24px;
    }
    :host([size="small"]) .container {
      width: 30px;
      height: 30px;
    }
    :host([size="large"]) .container {
      width: 42px;
      height: 42px;
    }
  </style>
  <div class="container">
    <slot></slot>
    <x-if :value="disabled === null">
      <p-wave style="z-index: 2"></p-wave>
    </x-if>
  </div>
  <script>
    import { setMainColor } from "../commons/util.js";

    export default {
      tag: "p-icon-button",
      attrs: {
        size: null,
        color: "normal",
        disabled: null,
      },
      watch: {
        color(color) {
          if (color) {
            if (color) {
              setMainColor(this, color);
            }
          }
        },
      },
    };
  </script>
</template>
