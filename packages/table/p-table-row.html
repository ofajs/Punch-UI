<template component>
  <style>
    :host {
      position: relative;
      display: block;
      z-index: 1;
      border-bottom: var(--md-sys-color-normal-container) solid 1px;
      width: var(--table-row-width, auto);
      /* width: 100%; */
    }

    .container {
      display: flex;
      flex-wrap: nowrap;
    }
    .fake-block {
      display: none;
      padding: calc(var(--pui-space-y) * 1.5) 0;
      opacity: 0;
    }

    :host([sticky]) {
      position: sticky;
      top: 0;
      z-index: 3;
    }
  </style>
  <x-if :value="head!== null">
    <style>
      ::slotted(p-table-cell) {
        font-weight: 600;
      }
    </style>
  </x-if>
  <div class="container">
    <slot></slot>
  </div>
  <script>
    export default {
      attrs: {
        head: null,
        sticky: null,
      },
      proto: {
        get scrollLeft() {
          return this.shadow.$(".container").ele.scrollLeft;
        },
        set scrollLeft(val) {
          this.shadow.$(".container").ele.scrollLeft = val;
        },
      },
      ready() {
        this.on("change-cell-align", (e) => {
          if (this.head === null) {
            e.stopImmediatePropagation();
          }
        });
      },
    };
  </script>
</template>
