<template component>
  <l-m src="../wave/wave.html"></l-m>
  <style>
    :host {
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      cursor: pointer;
      margin: 0 calc(var(--pui-space-x) * 3);
      --wave-color: var(--md-ref-palette-translucent-primary60);
    }
    .container {
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: calc(var(--pui-space-y) * 2) 0;
    }

    .icon {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 22px;
      transition: color ease 0.2s;
    }

    :host([active-item]) {
      color: var(--active-color);
    }

    .click-area {
      position: absolute;
      left: calc(var(--pui-space-x) * -3);
      bottom: 0;
      width: calc(100% + calc(var(--pui-space-x) * 6));
      height: 100%;
    }

    .container:hover .click-area {
      background-color: var(--md-ref-palette-translucent-normal60);
    }

    :host([icon-position="start"]) .container {
      flex-direction: row;
    }

    :host([icon-position="start"]) .icon {
      margin-right: var(--pui-space-x);
    }

    :host([icon-position="bottom"]) .container {
      flex-direction: column-reverse;
    }

    :host([icon-position="end"]) .container {
      flex-direction: row-reverse;
    }
    :host([icon-position="end"]) .icon {
      margin-left: var(--pui-space-x);
    }
  </style>
  <div class="container" part="container">
    <div class="icon">
      <slot name="icon"></slot>
    </div>
    <slot></slot>
    <div class="click-area">
      <p-wave></p-wave>
    </div>
  </div>
  <script>
    export default {
      tag: "p-tab",
      attrs: {
        iconPosition: null,
      },
      proto: {
        get container() {
          return this.shadow.$(".container");
        },
      },
      ready() {
        this.on("click", () => {
          this.emit("click-tab-item");
        });
      },
    };
  </script>
</template>
