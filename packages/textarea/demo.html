<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>多行文本框 Textarea</title>
    <script
      src="https://cdn.jsdelivr.net/gh/kirakiray/ofa.js@4.6.1/dist/ofa.js"
       ></script>
    <style>
      body {
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .demo-section {
        margin-bottom: 20px;
      }
      .field-row {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 20px;
        align-items: flex-start;
      }
      h3 {
        margin-bottom: 10px;
      }
      .code-block {
        background-color: var(--md-sys-color-surface);
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 20px;
        font-family: monospace;
      }
      p-textarea {
        width: 220px;
      }
      .result-display {
        margin-top: 10px;
        padding: 8px;
        background-color: var(--md-sys-color-surface);
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <l-m src="./textarea.html"></l-m>
    <l-m src="../button/button.html"></l-m>
    <l-m src="../aide/develop/theme-selector.html"></l-m>

    <p-theme-selector></p-theme-selector>

    <div class="demo-section">
      <h3>基础多行文本框</h3>
      <div class="field-row">
        <p-textarea>
          <label>标准多行文本框</label>
        </p-textarea>
        <p-textarea hanglabel>
          <label>悬挂标签</label>
        </p-textarea>
        <p-textarea default-value="预设文本内容">
          <label>带默认值</label>
        </p-textarea>
        <p-textarea disabled>
          <label>禁用状态</label>
        </p-textarea>
        <p-textarea autofocus>
          <label>默认聚焦</label>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>文本框变体 (variant)</h3>
      <div class="field-row">
        <p-textarea>
          <label>默认边框样式</label>
        </p-textarea>
        <p-textarea variant="filled">
          <label>填充样式</label>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>文本框尺寸 (size)</h3>
      <div class="field-row">
        <p-textarea size="small">
          <label>小尺寸</label>
        </p-textarea>
        <p-textarea>
          <label>默认尺寸</label>
        </p-textarea>
        <p-textarea size="large">
          <label>大尺寸</label>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>行高控制</h3>
      <div class="field-row">
        <p-textarea rows="3">
          <label>固定3行高度</label>
        </p-textarea>
        <p-textarea min-rows="2" max-rows="5">
          <label>2-5行自适应</label>
        </p-textarea>
        <p-textarea min-rows="4">
          <label>最小4行</label>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>辅助文本和错误状态</h3>
      <div class="field-row">
        <p-textarea>
          <label>带辅助文本</label>
          <span slot="helper">请输入您的<b>反馈意见</b></span>
        </p-textarea>
        <p-textarea error>
          <label>错误状态</label>
          <span slot="helper">输入内容有误</span>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>前缀和后缀</h3>
      <div class="field-row">
        <p-textarea>
          <label>带前缀</label>
          <span slot="prefix">📝</span>
        </p-textarea>
        <p-textarea>
          <label>带后缀</label>
          <span slot="suffix">📋</span>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>颜色变体</h3>
      <div class="field-row">
        <p-textarea color="primary">
          <label>主色调</label>
        </p-textarea>
        <p-textarea color="error">
          <label>错误色调</label>
        </p-textarea>
        <p-textarea color="success">
          <label>成功色调</label>
        </p-textarea>
        <p-textarea color="normal">
          <label>灰色调</label>
        </p-textarea>
      </div>
    </div>

    <div class="demo-section">
      <h3>事件监听示例</h3>
      <div class="field-row">
        <p-textarea id="event-demo">
          <label>输入内容</label>
        </p-textarea>
        <div class="result-display" id="event-result">输入值:</div>
      </div>

      <script>
        const eventDemo = $("#event-demo");
        const eventResult = $("#event-result");

        eventDemo.on("input", (e) => {
          // eventDemo.on("change", (e) => {
          eventResult.text = `输入值: ${eventDemo.value}`;
        });
      </script>
    </div>

    <div class="demo-section">
      <h3>方法调用示例</h3>
      <div class="field-row">
        <p-textarea id="method-demo" default-value="初始文本内容">
          <label>方法演示</label>
        </p-textarea>
        <p-button onclick="focusDemo()">聚焦</p-button>
        <p-button onclick="clearDemo()">清空</p-button>
        <p-button onclick="getValueDemo()">获取值</p-button>
      </div>
      <script>
        const focusDemo = () => {
          $("#method-demo").focus();
        };
        const clearDemo = () => {
          $("#method-demo").value = "";
        };
        const getValueDemo = () => {
          alert($("#method-demo").value);
        };
      </script>
    </div>

    <div class="demo-section">
      <h3>其他属性示例</h3>
      <div class="field-row">
        <p-textarea maxlength="10">
          <label>最大长度限制</label>
          <div slot="helper">最多输入10个字符</div>
        </p-textarea>
        <p-textarea placeholder="请输入内容...">
          <label>占位符文本</label>
        </p-textarea>
        <p-textarea readonly default-value="只读内容">
          <label>只读状态</label>
        </p-textarea>
      </div>
    </div>
  </body>
</html>
